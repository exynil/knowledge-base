## Основные операции

1. Просмотр всех публичных ключей

~~~~
gpg -k
~~~~

2. Просмотр всех приватных ключей

~~~~
gpg -K
~~~~

## Генерация ключа

1. Генерация ключа

~~~~
gpg --full-generate-key
~~~~

4. Шифрование файла

~~~~
gpg -r maxim --armor --encrypt secret.txt
~~~~

5. Дешифрование файла

~~~~
gpg -d secret.txt.asc
~~~~

## Создание sub ключей

1. Переходим в режим редактирования

~~~~
gpg --expert --edit-key maxim
~~~~

2. Добавляем ключ

~~~~
gpg> addkey
~~~~

3. Сохраняем действия

~~~~
gpg: save
~~~~

## Экспорт ключей

Экспорт публичного ключа

~~~~
gpg --export -a "Maxim Kim" > public.key 
~~~~

Экспорт приватного ключа

~~~~
gpg --export-secret-key -a "Maxim Kim" > private.key
~~~~
> a - сохранение данных в читабельном  ASCII формате

## Импорт ключей

Импорт публичного ключа

~~~~
gpg --import public.key
~~~~

Иморт приватного ключа

~~~~
gpg --import private.key
~~~~

## Просмотр ключей

Просмотр публичных ключей

~~~~
gpg -k "Maxim Kim"
~~~~
Просмотр приватных ключей

~~~~
gpg -K "Maxim Kim"
~~~~

## Удаление ключей

Удаление публичного ключа

~~~~
gpg --delete-key <ID>
~~~~

Удаление приватного ключа

~~~~
gpg --delete-secret-key <ID>
~~~~

## Просмотр отпечатка ключа

~~~~
gpg --fingerprint "Maxim Kim"
~~~~

## Симметричное шифрование

Шифрование

~~~~
gpg -c secret.txt

~~~~

Дешифрование

~~~~
gpg -d secret.txt.gpg
~~~~

## Симметричное шифрование в связке с публичным ключом

Шифрование
~~~~
gpg -c -e -r "Maxim Kim" secret.txt
~~~~

Дешифрование
~~~~
gpg -d secret.txt.gpg
~~~~

> Если на другом компьютере, где вы расшифровываете файл, имеется ваш приватный ключ, то при расшифровке будет запрошен пароль приватного ключа. Если приватный ключ отсутствует, то будет запрошен пароль, который использовался при шифровании файла.

## Шифрование публичным ключом

~~~~
gpg -e -r "Maxim Kim" secret.txt
~~~~

## Шифрование публичным ключом в формате ASCII

~~~~
gpg -e -a -r "Maxim Kim" secret.txt
~~~~

## Шифрование имени адресата

~~~~
gpg -e -a -R "Maxim Kim" secret.txt
~~~~

## Проверка подписи файла

Подписывание файла

~~~~
gpg --clearsign secret.txt
~~~~

Проверка подписи

~~~~
gpg --verify secret.txt.asc
~~~~

Извлечение данных из подписанного файла

~~~~
gpg -d secret.txt.asc > secret.txt
~~~~

## Установка уровня доверия для ключа

~~~~
gpg --edit-key <KEY_ID>
~~~~

~~~~
gpg> trust
~~~~

## Защита папки
~~~~
chmod 600 ~/.gnupg/\*
~~~~

~~~~
chmod 700 ~/.gnupg
~~~~

#защита #безопасность #gpg #pgp