# Общая папка

Здесь рассказывается о том как расшарить папку для другого пользователя, при 
этом ограничив его от других файлов в вашей системе. Данный способ был написан 
на основе разных источников и в кооректности данного метода я пока не уверен.

Представьте что у вас есть коллега по работе и он генерирует определенный файл, 
необходимый в вашем проекте поправок очень много.

Ваш коллега может быстро копировать файл к вам на компьютер через ssh и rsync или 
любую другую программу.

Нецелесобразно предоставлять вашему коллеге свою учетную запись для подключения по ssh.
Для коллеги необходимо создать свою уч. запись и распределить права.




### Подготавливаем пользователя и общую группу

1. Создаем пользователя
~~~~
# useradd -m bob
~~~~

2. Создаем пароль для нового пользователя
~~~~
passwd bob
~~~~

3. Создаем рабочую группу с название workgroup
~~~~
# groupadd workgroup
~~~~

3. Добавляем себя и Боба в группу workgroup
~~~~
# usermod -aG workgroup max
# usermod -aG workgroup bob
~~~~

>Обратите внимание что в определенных ОС для того чтобы измения с группами 
>вступили в силу необходима перезагрузка

### Цель

В нашем случае структура папок будет следующая

~~~~
/
└── media
    └── hdd
        ├── my-secret-folder
        └── work
            └── project

~~~~

папка `hdd` - наш жесткий диск где располагаются все наши файлы

папка `project` - та самая папка которую мы хотим расшарить

все остальные папки должны быть недоступны для пользователя Боб

### Подготовка прав

1. Убираем права на чтение/запись/выполнение у остальных
~~~~
chmod o-rwx /media/hdd/my-secret-folder
~~~~

2. Изменяем группу у папки
~~~~
chown -R :workgroup /media/hdd/work/project
~~~~

Мы изменили группу у папки `/media/hdd/work/project` и теперь все кто находятся 
в нашей рабочей группе, будут иметь полный доступ к этой папке.

### Итого

Боб будет иметь доступ только к `/media/hdd/work/project`
Боб сможет просматривать все файлы в папке `/media/hdd/work`
Боб не может получить доступ к папке `/media/hdd/my-secret-folder`